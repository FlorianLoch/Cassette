doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1, shrink-to-fit=no')
    meta(name="theme-color", content="#1DB954")
    link(rel='stylesheet', href='./style.css')
    link(rel="stylesheet", href="https://use.fontawesome.com/releases/v5.2.0/css/all.css", integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ", crossorigin="anonymous")
    include includes/modal.pug

    title ABHfS v0.1
  body
    #app
      modal(v-if='showModal', @close='showModal = false')
        p(slot='header') Ooops, something went wrong :/
        p(slot='body') {{errorMessage}}
      .container
        .col-md-12
          .row
            button.btn.btn-block.mb-4.mt-4.btn-primary(type='button', v-on:click='storePlayerStateInNewSlot') Store current state
        .row
          .col-md-4(v-for='(state, slotNo) in playerStates')
            .card.mb-4.box-shadow
              img.card-img-top(:src='state.albumArtURL', alt='Album art provided by Spotify')
              .card-body
                h5.card-title {{state.trackName}}
                p.card-text
                  | {{state.albumName}}
                  br
                  | {{state.artistName}}
                  br
                  | {{state.progress | time}} / {{state.duration | time}}
                .row
                  .col-md-4.p-1
                    button.btn-block.btn.btn-primary(v-on:click='storePlayerStateInSlot(slotNo)')
                      i.fas.fa-stop-circle
                  .col-md-4.p-1.btn-group.btn-block
                    button.col-9.btn.btn-primary(v-on:click='restorePlayerStateFromSlot(slotNo)')
                      i.fas.fa-play-circle
                    button.col-3.btn.btn-secondary.dropdown-toggle.dropdown-toggle-split(type="button", data-toggle="dropdown", aria-haspopup="true", aria-expanded="false")
                      span.sr-only Toggle Dropdown
                    .dropdown-menu
                      btn.dropdown-item.disabled Start playback on:
                      .dropdown-divider
                      btn.dropdown-item(v-for="(device) in activeDevices", v-on:click="restorePlayerStateFromSlot(slotNo, device.id)") {{device.name}}
                  .col-md-4.p-1
                    button.btn-block.btn.btn-danger(v-on:click='removeSlot(slotNo)')
                      i.fas.fa-trash-alt
        div

    script(src='./script.js')